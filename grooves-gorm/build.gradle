apply plugin: 'java-library'
apply plugin: 'groovy'
apply from: "$rootDir/gradle/publishing.gradle"
apply from: "$rootDir/gradle/jacoco.gradle"

description = "Integration with Grails' GORM API"

dependencies {
    api 'com.github.rahulsom:grooves-groovy:0.6.1'

    implementation 'io.reactivex:rxjava:1.3.8'
    implementation 'io.reactivex:rxjava-reactive-streams:1.2.1'

    implementation 'io.reactivex.rxjava2:rxjava:2.2.19'

    compileOnly 'org.grails:grails-datastore-gorm:6.0.12.RELEASE'
    compileOnly 'org.grails:grails-datastore-gorm-rx:6.0.12.RELEASE'
    compileOnly "org.jetbrains:annotations:19.0.0"

    testCompile "org.spockframework:spock-core:1.3-groovy-2.5"
}

groovydoc {
    exclude '**/*.java'
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.outputDirectory
}